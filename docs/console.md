forward-logs-shared.ts:95 Download the React DevTools for a better development experience: https://react.dev/link/react-devtools
forward-logs-shared.ts:95 [HMR] connected
forward-logs-shared.ts:95 Image with src "/images/main/main15.png" is using quality "95" which is not configured in images.qualities [75]. Please update your config to [75, 95].
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-qualities
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/products/granola-standpouch-real.jpg" is using quality "95" which is not configured in images.qualities [75]. Please update your config to [75, 95].
Read more: https://nextjs.org/docs/messages/next-image-unconfigured-qualities
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 [AuthContext] Initializing auth context...
forward-logs-shared.ts:95 [AuthContext] NODE_ENV: development
forward-logs-shared.ts:95 Image with src "/images/main/main1.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main2.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main3.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main4.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main5.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main6.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main7.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main8.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main9.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main15.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main16.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main17.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main14.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main13.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main12.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 Image with src "/images/main/main11.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 151ms
forward-logs-shared.ts:95 Image with src "/images/main/main10.png" has "fill" and parent element with invalid "position". Provided "static" should be one of absolute,fixed,relative.
warn @ forward-logs-shared.ts:95
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 689ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 164ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 664ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 164ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 185ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 189ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 847ms
forward-logs-shared.ts:95 [Fast Refresh] rebuilding
forward-logs-shared.ts:95 [Fast Refresh] done in 182ms

---

## 重要備考事項 (重要備考)

### 製造・納品に関する注意事項

※製造工程上の都合により、実際の納品数量はご注文数量に対し最大10%程度の過不足が生じる場合がございます。
数量の完全保証はいたしかねますので、あらかじめご了承ください。

※不足分につきましては、実際に納品した数量に基づきご請求いたします。
前払いにてお支払いいただいた場合は、差額分を返金いたします。

※原材料価格の変動等により、見積有効期限経過後は価格が変更となる場合がございます。
再見積の際は、あらかじめご了承くださいますようお願いいたします。

※本見積金額には郵送費を含んでおります。

※お客様によるご確認の遅れ、その他やむを得ない事情により、納期が前後する場合がございます。

※年末年始等の長期休暇期間を挟む場合、通常より納期が延びる可能性がございます。

※天候不良、事故、交通事情等の影響により、やむを得ず納期が遅延する場合がございますので、あらかじめご了承ください。

---

## クーポン機能メモ (Coupon Feature Notes)

### クーポンコード (Coupon Codes)

テスト用クーポンコード:

| コード | 名称 | タイプ | 値 | 説明 |
|--------|------|--------|-----|------|
| TEST10 | 10% Off Test | percentage | 10 | 10%割引 |
| SAVE1000 | 1000 YEN Off | fixed_amount | 1000 | 1000円割引 |
| FREESHIP | Free Shipping | free_shipping | 0 | 送料無料 |

### クーポン作成SQL

```sql
-- テスト用クーポンの作成
INSERT INTO coupons (code, name, name_ja, type, value, status, valid_from, valid_until, minimum_order_amount, max_uses, max_uses_per_customer)
VALUES
  ('TEST10', '10% Off Test Coupon', 'テスト10%割引', 'percentage', 10, 'active', NOW(), NOW() + INTERVAL '30 days', 0, NULL, 3),
  ('SAVE1000', '1000 YEN Off', '1000円割引', 'fixed_amount', 1000, 'active', NOW(), NOW() + INTERVAL '30 days', 5000, NULL, 5),
  ('FREESHIP', 'Free Shipping', '送料無料', 'free_shipping', 0, 'active', NOW(), NOW() + INTERVAL '30 days', 3000, NULL, 10);
```

### 実装完了機能 (2026-02-08)

- [x] データベーススキーマ（quotationsテーブルにクーポンカラム追加）
- [x] APIルート（guest-save, save, member/quotations）
- [x] フロントエンド（ImprovedQuotingWizard, EnhancedQuoteSimulator）
- [x] PDF生成（クーポンバナー表示）
- [x] TypeScript型定義

### 既知の問題

- **PDF数量表示**: クーポン適用時、PDF明細に割引アイテムが追加されるため、合計数量が実際の商品数量+1になる表示があります（例：5000個の商品+割引アイテム1個=5001個表示）
- **修正予定**: 割引アイテムを別途表示し、数量計算から除外する予定です

---
