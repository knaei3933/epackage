# detectCurrentStep Function - Detection Strategy Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    detectCurrentStep(page)                       â”‚
â”‚                  Enhanced for Mobile Browsers                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 1: Mobile Vertical Nav Detection                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ nav button[aria-current="step"]                               â”‚
â”‚ â€¢ nav.lg\:hidden button[disabled]                               â”‚
â”‚ â€¢ nav.lg\:hidden button[class*="bg-navy-700"]                   â”‚
â”‚                                                                   â”‚
â”‚ Checks:                                                           â”‚
â”‚ âœ“ aria-current === "step"                                       â”‚
â”‚ âœ“ disabled === null (completed steps)                           â”‚
â”‚ âœ“ hasActiveClass (bg-navy-700, ring-navy-200)                   â”‚
â”‚                                                                   â”‚
â”‚ Text Matching (handles truncation):                              â”‚
â”‚ "åŸºæœ¬" | "ä»•æ§˜" | "åŸºæœ¬..." â†’ specs                              â”‚
â”‚ "å¾ŒåŠ å·¥" | "åŠ å·¥" â†’ post-processing                              â”‚
â”‚ "SKU" | "æ•°é‡" â†’ sku-quantity                                   â”‚
â”‚ "çµæœ" | "è¦‹ç©çµæœ" | "å®Œäº†" â†’ result                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Not Found
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 2: Desktop Horizontal Nav Detection                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ nav.hidden.lg\:flex button[aria-current="step"]               â”‚
â”‚ â€¢ nav.hidden.lg\:flex button[class*="scale-110"]                â”‚
â”‚ â€¢ button[disabled] with "ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—" text                    â”‚
â”‚                                                                   â”‚
â”‚ Text Matching (full text):                                       â”‚
â”‚ "åŸºæœ¬ä»•æ§˜" â†’ specs                                              â”‚
â”‚ "å¾ŒåŠ å·¥" â†’ post-processing                                       â”‚
â”‚ "SKU" â†’ sku-quantity                                             â”‚
â”‚ "è¦‹ç©çµæœ" â†’ result                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Not Found
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 3: Aria-Label Parsing (Universal)                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Works on both mobile and desktop                              â”‚
â”‚ â€¢ Most reliable - doesn't depend on visual text                 â”‚
â”‚                                                                   â”‚
â”‚ Parses: button[aria-label*="ã‚¹ãƒ†ãƒƒãƒ—"]                          â”‚
â”‚ Format: "Title - Status" (e.g., "åŸºæœ¬ä»•æ§˜ - ç¾åœ¨ã®ã‚¹ãƒ†ãƒƒãƒ—")    â”‚
â”‚                                                                   â”‚
â”‚ Extracts title before dash and matches:                          â”‚
â”‚ "åŸºæœ¬" | "ä»•æ§˜" â†’ specs                                         â”‚
â”‚ "å¾ŒåŠ å·¥" â†’ post-processing                                       â”‚
â”‚ "SKU" | "æ•°é‡" â†’ sku-quantity                                   â”‚
â”‚ "çµæœ" | "è¦‹ç©çµæœ" â†’ result                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Not Found
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 4: Progress Bar Percentage                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Fallback if navigation detection fails                        â”‚
â”‚                                                                   â”‚
â”‚ Progress Mapping:                                                â”‚
â”‚ 0-25%   â†’ specs                                                 â”‚
â”‚ 25-50%  â†’ post-processing                                        â”‚
â”‚ 50-75%  â†’ sku-quantity                                           â”‚
â”‚ 75-100% â†’ result                                                â”‚
â”‚                                                                   â”‚
â”‚ Selectors: [class*="progress"], [role="progressbar"]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Not Found
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 5: Unique Form Field Detection                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Most reliable fallback - checks actual UI elements            â”‚
â”‚ â€¢ Works even if all text is different                           â”‚
â”‚ â€¢ Checks in REVERSE order (most unique first)                   â”‚
â”‚                                                                   â”‚
â”‚ Element Detection:                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚ â”‚ hasPriceDisplay â†’ result (price/total elements)         â”‚    â”‚
â”‚ â”‚ hasSkuButton â†’ sku-quantity (1ç¨®é¡, 2ç¨®é¡ buttons)      â”‚    â”‚
â”‚ â”‚ hasZipperButton â†’ post-processing (ã‚¸ãƒƒãƒ‘ãƒ¼ buttons)    â”‚    â”‚
â”‚ â”‚ hasWidthInput â†’ specs (width/height inputs)              â”‚    â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Not Found
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 6: Visible Heading Text                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Checks h2, h3 elements for step-specific content              â”‚
â”‚                                                                   â”‚
â”‚ Heading Detection:                                               â”‚
â”‚ "åŸºæœ¬ä»•æ§˜" (no "å¾ŒåŠ å·¥") â†’ specs                                â”‚
â”‚ "å¾ŒåŠ å·¥" | "ã‚¸ãƒƒãƒ‘ãƒ¼" | "è¡¨é¢å‡¦ç†" â†’ post-processing            â”‚
â”‚ "SKU" | "æ•°é‡" | "ç¨®é¡" â†’ sku-quantity                          â”‚
â”‚ "è¦‹ç©çµæœ" | "ä¾¡æ ¼è©³ç´°" | "ç·é¡" â†’ result                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ Not Found
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STRATEGY 7: URL Fragment/Params (Last Resort)                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Parses URL hash or query parameters                           â”‚
â”‚                                                                   â”‚
â”‚ URL Detection:                                                   â”‚
â”‚ #specs | ?step=specs â†’ specs                                    â”‚
â”‚ #post-processing | ?step=post-processing â†’ post-processing       â”‚
â”‚ #sku | ?step=sku â†’ sku-quantity                                 â”‚
â”‚ #result | ?step=result â†’ result                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ All Failed
                              â–¼
                       return 'unknown'
```

## Mobile vs Desktop UI Structure

### Mobile (lg:hidden - Vertical Navigation)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ”µ åŸºæœ¬ä»•æ§˜          â”‚  â”‚ â† Active: bg-navy-700
â”‚  â”‚   è¢‹ã®ã‚µã‚¤ã‚ºã€æè³ªã‚’é¸æŠ      â”‚  â”‚         ring-navy-200
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âœ“ å¾ŒåŠ å·¥            â”‚  â”‚ â† Completed: bg-green-50
â”‚  â”‚    ã‚¸ãƒƒãƒ‘ãƒ¼ã€ä»•ä¸Šã’ã‚’é¸æŠ     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âšª SKUãƒ»æ•°é‡           â”‚  â”‚ â† Disabled: bg-gray-50
â”‚  â”‚    SKUæ•°ã¨æ•°é‡ã‚’å…¥åŠ›         â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ âšª è¦‹ç©çµæœ            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Desktop (hidden lg:flex - Horizontal Navigation)
```
    ğŸ”µ       âœ“        âšª        âšª
 åŸºæœ¬ä»•æ§˜  å¾ŒåŠ å·¥  SKUãƒ»æ•°é‡  è¦‹ç©çµæœ
   â†‘        â†‘        â†‘         â†‘
scale-110 (active)  (disabled)
```

## Step Completion Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Complete Specs Step                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”œâ”€â–º Detect current step
     â”‚   â””â”€> Returns: 'specs', 'post-processing', 'sku-quantity', 'result', 'unknown'
     â”‚
     â”œâ”€â–º If specs/unknown:
     â”‚   â”œâ”€â–º mobileClick(bagTypeButton) â†’ "å¹³è¢‹"
     â”‚   â”œâ”€â–º mobileClick(materialButton) â†’ "PET_AL"
     â”‚   â”œâ”€â–º mobileClick(thicknessButton) â†’ "æ¨™æº–"
     â”‚   â”œâ”€â–º mobileFill(widthInput) â†’ "100"
     â”‚   â”œâ”€â–º mobileFill(heightInput) â†’ "150"
     â”‚   â””â”€â–º navigateToStep('post-processing')
     â”‚
     â””â”€â–º If post-processing:
         â”œâ”€â–º mobileClick(noZipperButton) â†’ "ã‚¸ãƒƒãƒ‘ãƒ¼ãªã—"
         â”œâ”€â–º mobileClick(matteButton) â†’ "ãƒãƒƒãƒˆä»•ä¸Šã’"
         â”œâ”€â–º mobileClick(noNotchButton) â†’ "ãƒãƒƒãƒãªã—"
         â”œâ”€â–º mobileClick(noHangHoleButton) â†’ "åŠã‚Šç©´ãªã—"
         â””â”€â–º navigateToStep('sku-quantity')

... (continues for all steps)
```

## Mobile Optimization Helpers

### mobileClick()
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. waitFor({ state: 'attached' })      â”‚
â”‚ 2. scrollIntoViewIfNeeded()             â”‚
â”‚ 3. waitForTimeout(300)                  â”‚
â”‚ 4. isVisible() check                    â”‚
â”‚ 5. click({ force: true, ... })          â”‚
â”‚ 6. waitForTimeout(800)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### mobileFill()
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. waitFor({ state: 'attached' })      â”‚
â”‚ 2. scrollIntoViewIfNeeded()             â”‚
â”‚ 3. waitForTimeout(300)                  â”‚
â”‚ 4. isVisible() check                    â”‚
â”‚ 5. focus()                              â”‚ â†’ Opens virtual keyboard
â”‚ 6. clear()                              â”‚
â”‚ 7. fill(value)                          â”‚
â”‚ 8. blur()                               â”‚ â†’ Dismisses keyboard
â”‚ 9. waitForTimeout(500)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Improvements

### Before
- Single detection strategy (button text)
- No mobile-specific handling
- No truncation handling
- Limited fallback options

### After
- 7 detection strategies
- Mobile-specific selectors
- Truncation handling
- Multiple robust fallbacks
- Mobile-optimized interaction helpers
- Comprehensive documentation

## Testing

Run tests on mobile to verify:
```bash
npx playwright test tests/e2e/workflow/01-quotation-to-order.spec.ts \
  --project="Mobile Chrome" \
  --headed
```

Expected output:
```
âœ“ WF-01: è¦‹ç©ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ã‹ã‚‰æ³¨æ–‡ä½œæˆã¾ã§ã®å®Œå…¨ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
âœ“ WF-02: ã‚¹ãƒãƒ¼ãƒˆè¦‹ç©ã‹ã‚‰æ³¨æ–‡ä½œæˆ
âœ“ WF-03: è¦‹ç©ã®çŠ¶æ…‹é·ç§» (DRAFT â†’ SENT â†’ APPROVED)
```
